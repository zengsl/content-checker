<!DOCTYPE html>
<html lang="zh" xmlns:th="https://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8">
    <title>检测报告</title>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" type="text/css" media="all"/>
    <link th:href="@{/css/bootstrap-table.min.css}" rel="stylesheet" type="text/css" media="all"/>
    <link th:href="@{/css/style.css}" rel="stylesheet" type="text/css" media="all"/>

    <script th:src="@{/js/axios.min.js}"></script>
    <script th:src="@{/js/jquery-3.7.1.min.js}"></script>
    <script th:src="@{/js/jquery.validate.min.js}"></script>
    <script th:src="@{/js/bootstrap-table.min.js}"></script>
    <script th:src="@{/js/clipboard.min.js}"></script>
</head>
<body class="vh-100">
<div class="container-fluid">
    <div class="row mb-2 mx-2 paper-result-base-info">
        <div class="col d-flex justify-content-between">
            <div><h2 th:text="${checkRequest.title}"></h2>
                <p>
                    作者：<span th:text="${checkRequest.author}" class="me-5"></span>
                    发布年份：<span th:text="${checkRequest.publishYear}"></span>
                </p>
                <div>提交时间：<span
                        th:text="${#temporals.format(checkRequest.createTime, 'yyyy-MM-dd HH:mm:ss')}"></span></div>
            </div>
            <div class="d-flex align-items-center">
                <!--<ul class="me-5" style="list-style: none;">
                    <li> 总字数：xxxx</li>
                </ul>-->
                <div>总体相似度<!--:<span th:text="${finalSimilarity}"/>-->
                    <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="25"
                         aria-valuemin="0" aria-valuemax="100">
                        <div class="progress-bar" th:style="'width:'+${finalSimilarity}">[[${finalSimilarity}]]</div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <div class="row paper-result-nav">
        <ul class="nav">
            <li class="nav-item"><a class="nav-link " style="color: #e6e6e6" aria-current="page" href="#">详细报告</a>
            </li>
            <li class="nav-item"><a class="nav-link disabled" style="color: #e6e6e6" aria-current="page"
                                    href="#">综合评估</a></li>
            <li class="nav-item"><a class="nav-link disabled" style="color: #e6e6e6" aria-current="page"
                                    href="#">使用帮助</a></li>
        </ul>
    </div>
    <div class="row paper-result-container">
        <div class="col-8 paper-result-content">
            <!--<div class="paper-result" onclick="showDetailContainer()"> [[${contentCheckTask.content}]]</div>-->
            <div class="paper-result" >
                <div th:each="reportParagraph:${reportParagraphs}">
                <div th:utext="${reportParagraph.content}"></div>
                </div>

            </div>
        </div>
        <div class="col paper-report-detail">
            <div class="paper-report-similarity-intro">
                <div>句子的不同颜色表示不同的相似度</div>
                <ul style="list-style: none;padding: 0">
                    <li><span class="intro-diamond red"></span><span class="red">红色</span> 相似度70%以上（重度相似，请全面修改）
                    </li>
                    <li><span class="intro-diamond orange"></span><span class="orange">橙色</span>
                        相似度40%-70%（轻度相似，请酌情修改）
                    </li>
                    <li><span class="intro-diamond black"></span><span>黑色</span> 合格</li>
                </ul>
                如果要查看句子详细检测结果
                请点击论文中“红色”和“橙色”标记的部分
            </div>
            <div class="paper-report-detail-container" style="display: none" id="detailContainer">
                <div class="paper-report-detail-container-close" onclick="hideDetailContainer()">X</div>
                <div class="paper-report-detail-content">疑似句子</div>
            </div>
        </div>
    </div>
</div>
<script>
    let currentSentenceId = null;
    function hideDetailContainer() {
        $('#words_'+currentSentenceId).removeClass("active")
        currentSentenceId = null;
        $("#detailContainer").hide()
    }

    function showDetailContainer(el) {
        $('#words_'+currentSentenceId).removeClass("active")
        $(el).addClass("active")
        currentSentenceId = el.dataset.id
        $("#detailContainer").show()
    }
</script>
</body>
</html>